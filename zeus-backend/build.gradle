plugins {
    id "nebula.kotlin" version "1.1.2"
    id "io.quartic.repos" version "24"
    id "io.quartic.service" version "24"
    id "com.palantir.configuration-resolver" version "0.2.0"
}

service {
    simpleName = "zeus"
    mainClassName = "io.quartic.zeus.ZeusApplication"
    memory = System.env.ZEUS_MEMORY ?: "32m"
}

dependencies {
    if (System.env.SKIP_FRONTEND == null) {
        compile project(":zeus-frontend")
    }
    compile "io.quartic.platform:common-application:${versions.platform}"
    compile "io.dropwizard:dropwizard-assets:${versions.dropwizard}"
    compile "com.fasterxml.jackson.dataformat:jackson-dataformat-csv:${versions.jackson}"

    testCompile libraries.testCommon
    testCompile libraries.wiremock
    testCompile "io.quartic.platform:common-test:${versions.platform}"
}