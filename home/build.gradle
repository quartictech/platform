import io.quartic.gradle.kotlin.KotlinPlugin
import io.quartic.gradle.service.ServicePlugin

plugins {
    id "com.palantir.configuration-resolver" version "0.2.0"
}

apply plugin: KotlinPlugin
apply plugin: ServicePlugin

service {
    mainClassName = "io.quartic.home.HomeApplication"
    memory = System.env.HOME_MEMORY ?: "64m"
}

dependencies {
    compile project(":common-application")
    compile project(":catalogue-api")
    compile project(":howl-api")
    compile project(":registry-api")
    compile project(":eval-api")
    compile project(":github")
    if (System.env.SKIP_FRONTEND == null) {
        compile project(":home-frontend")
    }


//    compile "com.graphql-java:graphql-java:4.1"
    compile "com.graphql-java:graphql-java-annotations:3.0.3"
    compile "org.apache.commons:commons-csv:1.3"
    compile libraries.dropwizard.assets


    testCompile project(":common-test")
    testCompile libraries.dropwizard.testing
    testCompile libraries.wiremock
}


